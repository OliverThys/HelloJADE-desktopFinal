[global]
type=global
endpoint_identifier_order=ip,username,anonymous

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060

[transport-tcp]
type=transport
protocol=tcp
bind=0.0.0.0:5060

[transport-tls]
type=transport
protocol=tls
bind=0.0.0.0:5061
cert_file=/etc/asterisk/asterisk.pem
priv_key_file=/etc/asterisk/asterisk.pem

; Template pour les endpoints patients
[patient-template](!)
type=endpoint
context=hellojade-medical
disallow=all
allow=ulaw,alaw,g722
direct_media=no
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes

; Template pour les aor patients
[patient-aor-template](!)
type=aor
max_contacts=1
remove_existing=yes

; Template pour les identit√©s patients
[patient-identify-template](!)
type=identify
endpoint=patient-template
match=0.0.0.0/0

; Configuration pour les appels sortants
[hellojade-outbound]
type=endpoint
context=hellojade-outbound
disallow=all
allow=ulaw,alaw,g722
direct_media=no
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes

[hellojade-outbound-aor]
type=aor
max_contacts=1
remove_existing=yes

; Configuration pour les appels d'urgence
[emergency-endpoint]
type=endpoint
context=emergency
disallow=all
allow=ulaw,alaw,g722
direct_media=no
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes

[emergency-aor]
type=aor
max_contacts=1
remove_existing=yes

; Configuration pour les tests WebRTC
[webrtc-template](!)
type=endpoint
context=hellojade-medical
disallow=all
allow=ulaw,alaw,g722,opus
webrtc=yes
direct_media=no
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
ice_support=yes

[webrtc-aor-template](!)
type=aor
max_contacts=1
remove_existing=yes
